2025-02-12 08:27:39,056 - run.py - ERROR - 
[31m--------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 30, in daily_run_using
    ibkr.connect_to_broker()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 51, in connect_to_broker
    self.ib.connect(self.host, self.port, self.client_id, timeout=timeout, account=self.account)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 367, in connect
    return self._run(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 418, in _run
    return util.run(*awaitables, timeout=self.RequestTimeout)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/util.py", line 360, in run
    result = loop.run_until_complete(task)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/nest_asyncio.py", line 98, in run_until_complete
    return f.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 2020, in connectAsync
    await self.client.connectAsync(host, port, clientId, timeout)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/client.py", line 217, in connectAsync
    await asyncio.wait_for(self.conn.connectAsync(host, port), timeout)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 447, in wait_for
    return fut.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 234, in __step
    result = coro.throw(exc)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/connection.py", line 39, in connectAsync
    self.transport, _ = await loop.create_connection(lambda: self, host, port)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 1055, in create_connection
    raise exceptions[0]
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 1040, in create_connection
    sock = await self._connect_sock(
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 954, in _connect_sock
    await self.sock_connect(sock, address)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/selector_events.py", line 502, in sock_connect
    return await fut
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 284, in __await__
    yield self  # This tells Task to wait for completion.
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/selector_events.py", line 537, in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
ConnectionRefusedError: [Errno 61] Connect call failed ('127.0.0.1', 7497)

--------------------------------------------------------------------------------[0m
2025-02-12 08:27:39,057 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
--------------------------------------------------------------------------------[0m
2025-02-12 08:27:39,339 - run.py - ERROR - 
[31m--------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 30, in daily_run_using
    ibkr.connect_to_broker()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 51, in connect_to_broker
    self.ib.connect(self.host, self.port, self.client_id, timeout=timeout, account=self.account)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 367, in connect
    return self._run(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 418, in _run
    return util.run(*awaitables, timeout=self.RequestTimeout)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/util.py", line 360, in run
    result = loop.run_until_complete(task)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/nest_asyncio.py", line 98, in run_until_complete
    return f.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 2020, in connectAsync
    await self.client.connectAsync(host, port, clientId, timeout)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/client.py", line 217, in connectAsync
    await asyncio.wait_for(self.conn.connectAsync(host, port), timeout)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 447, in wait_for
    return fut.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 234, in __step
    result = coro.throw(exc)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/connection.py", line 39, in connectAsync
    self.transport, _ = await loop.create_connection(lambda: self, host, port)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 1055, in create_connection
    raise exceptions[0]
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 1040, in create_connection
    sock = await self._connect_sock(
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 954, in _connect_sock
    await self.sock_connect(sock, address)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/selector_events.py", line 502, in sock_connect
    return await fut
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 284, in __await__
    yield self  # This tells Task to wait for completion.
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/selector_events.py", line 537, in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
ConnectionRefusedError: [Errno 61] Connect call failed ('127.0.0.1', 7497)

--------------------------------------------------------------------------------[0m
2025-02-12 08:27:39,340 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
--------------------------------------------------------------------------------[0m
2025-02-12 08:27:39,387 - run.py - ERROR - 
[31m--------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 30, in daily_run_using
    ibkr.connect_to_broker()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 51, in connect_to_broker
    self.ib.connect(self.host, self.port, self.client_id, timeout=timeout, account=self.account)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 367, in connect
    return self._run(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 418, in _run
    return util.run(*awaitables, timeout=self.RequestTimeout)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/util.py", line 360, in run
    result = loop.run_until_complete(task)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/nest_asyncio.py", line 98, in run_until_complete
    return f.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/ib.py", line 2020, in connectAsync
    await self.client.connectAsync(host, port, clientId, timeout)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/client.py", line 217, in connectAsync
    await asyncio.wait_for(self.conn.connectAsync(host, port), timeout)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 447, in wait_for
    return fut.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 234, in __step
    result = coro.throw(exc)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/ib_async/connection.py", line 39, in connectAsync
    self.transport, _ = await loop.create_connection(lambda: self, host, port)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 1055, in create_connection
    raise exceptions[0]
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 1040, in create_connection
    sock = await self._connect_sock(
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/base_events.py", line 954, in _connect_sock
    await self.sock_connect(sock, address)
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/selector_events.py", line 502, in sock_connect
    return await fut
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 284, in __await__
    yield self  # This tells Task to wait for completion.
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/selector_events.py", line 537, in _sock_connect_cb
    raise OSError(err, f'Connect call failed {address}')
ConnectionRefusedError: [Errno 61] Connect call failed ('127.0.0.1', 7497)

--------------------------------------------------------------------------------[0m
2025-02-12 08:27:39,388 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,102 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: CurrentPosition
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,103 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,103 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,103 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: avg_price_bought
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,103 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,103 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: current_price
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,104 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,104 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: quantity
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,104 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stop_limit
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: int
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: strategy
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: TargetPosition
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: avg_price_bought
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,105 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: current_price
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,106 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,106 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: quantity
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,106 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,106 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stop_limit
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,106 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,106 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: strategy
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,106 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,107 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,107 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: OpenOrders
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,107 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: order_id
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,107 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: int
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,107 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,107 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,107 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: time
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: datetime.datetime
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: price_transacted
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: fees
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: quantity
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: strategy
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: Transaction
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: time
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: datetime.datetime
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: price_transacted
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: fees
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: quantity
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: strategy
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,108 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: HistoricalData
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: time
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: datetime.datetime
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: open
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: high
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: low
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,109 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: close
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,120 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,121 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: volume
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,121 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: int
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,121 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: close_reg_20
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,127 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,127 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int', 'close_reg_20': 'float'}
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,138 - init_db() - INFO - 
[32m--------------------------------------------------------------------------------
Database initialization complete.
--------------------------------------------------------------------------------[0m
2025-02-12 09:02:44,145 - IBC - INFO - 
[32m--------------------------------------------------------------------------------
IBC LOGS START
--------------------------------------------------------------------------------[0m
2025-02-12 09:37:50,260 - IBC - INFO - 
[32m--------------------------------------------------------------------------------
IBC LOGS END - IBKR started
--------------------------------------------------------------------------------[0m
2025-02-12 09:37:54,438 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
--------------------------------------------------------------------------------[0m
2025-02-12 09:37:54,462 - run.py - ERROR - 
[31m--------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 35, in daily_run_using
    target_positions = await update_target_positions_from_strategies(ibkr, strategies)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 43, in update_target_positions_from_strategies
    for target_position_strat in await strategy.get_weights(broker, 1):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/strategy/LinReg.py", line 29, in get_weights
    current = spy_past_data[0]
IndexError: list index out of range

--------------------------------------------------------------------------------[0m
2025-02-12 09:37:54,463 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
--------------------------------------------------------------------------------[0m
2025-02-12 09:37:54,466 - send_command_to_ibc() - INFO - 
[32m--------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

--------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,696 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,697 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,698 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,704 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:41,708 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:23:44,220 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: 
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:25:10,597 - DuplicateEntryError - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
An entry with primary keys {'stock': 'SPY', 'time': Timestamp('2015-02-11 19:00:00-0500', tz='US/Eastern')} already exists. (Primary Keys: {'stock': 'SPY', 'time': Timestamp('2015-02-11 19:00:00-0500', tz='US/Eastern')})
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,432 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,433 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,434 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,437 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:19,443 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:44,217 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:44,951 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:50,853 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:56,267 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:56,283 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 35, in daily_run_using
    target_positions = await update_target_positions_from_strategies(ibkr, strategies)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 51, in update_target_positions_from_strategies
    target_position.create_or_update_all(target_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 231, in create_or_update_all
    res = [self.create_or_update(data, False) for data in updated_data]
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 231, in <listcomp>
    res = [self.create_or_update(data, False) for data in updated_data]
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 210, in create_or_update
    self.create(updated_data, to_commit)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 131, in create
    instance = self.model(**data)  # Dynamically unpack data into the model
TypeError: __init__() got an unexpected keyword argument 'actual_strategy'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:56,284 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:34:56,290 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,110 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,111 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,112 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,116 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:36:59,120 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:37:20,312 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:37:21,220 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:37:27,018 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:37:32,770 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:37:41,232 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:37:41,510 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 267
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:37:41,738 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 267 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:27,966 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:27,969 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:27,977 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,104 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:29,108 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:54,385 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:55,134 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:56,692 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: current_positions.current_price

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: current_positions.current_price
[SQL: UPDATE current_positions SET current_price=? WHERE current_positions.stock = ? AND current_positions.strategy = ?]
[parameters: (nan, 'SPY', 'LinReg')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:56,692 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:45:56,695 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,077 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,078 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,079 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,080 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,084 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:34,088 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:57,478 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:58,218 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:59,990 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: current_positions.current_price

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: current_positions.current_price
[SQL: UPDATE current_positions SET current_price=? WHERE current_positions.stock = ? AND current_positions.strategy = ?]
[parameters: (nan, 'SPY', 'LinReg')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:59,990 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:51:59,993 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,520 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,521 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,522 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,523 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,523 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,529 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:57:44,532 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,102 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,102 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,105 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:58:39,108 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:59:00,622 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:59:01,452 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:59:03,227 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: current_positions.current_price

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: current_positions.current_price
[SQL: INSERT INTO current_positions (stock, avg_price_bought, current_price, quantity, stop_limit, stop_limit_in_place, strategy) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('SPY', 606.34, nan, 1.0, -1.0, -1, 'LinReg')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:59:03,228 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 11:59:03,231 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,159 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,160 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,161 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,162 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,165 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:37,168 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:58,786 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:04:59,417 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:05:01,260 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: current_positions.current_price

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: current_positions.current_price
[SQL: INSERT INTO current_positions (stock, avg_price_bought, current_price, quantity, stop_limit, stop_limit_in_place, strategy) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('SPY', 606.34, nan, 1.0, -1.0, -1, 'LinReg')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:05:01,261 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:05:01,264 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,654 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,655 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,656 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,657 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,660 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:37,664 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:58,861 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:06:59,725 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:01,404 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: current_positions.current_price

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: current_positions.current_price
[SQL: INSERT INTO current_positions (stock, avg_price_bought, current_price, quantity, stop_limit, stop_limit_in_place, strategy) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('SPY', 606.34, nan, 1.0, -1.0, -1, 'LinReg')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:01,405 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:01,408 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,383 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,384 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,388 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:20,392 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:41,177 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:41,891 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:43,454 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: current_positions.current_price

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: current_positions.current_price
[SQL: INSERT INTO current_positions (stock, avg_price_bought, current_price, quantity, stop_limit, stop_limit_in_place, strategy) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('SPY', 606.34, nan, 1.0, -1.0, -1, 'LinReg')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:43,455 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:07:43,457 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,319 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,320 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,321 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,322 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,325 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:37:43,332 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:38:12,683 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:38:13,719 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:38:15,461 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: current_positions.current_price

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: current_positions.current_price
[SQL: INSERT INTO current_positions (stock, avg_price_bought, current_price, quantity, stop_limit, stop_limit_in_place, strategy) VALUES (?, ?, ?, ?, ?, ?, ?)]
[parameters: ('SPY', 606.34, nan, 1.0, -1.0, -1, 'LinReg')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:38:15,462 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:38:15,465 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,015 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,016 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,017 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,021 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:46:37,025 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:47:01,852 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:47:02,523 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:47:08,938 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:00,713 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:00,726 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:00,738 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,989 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,990 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,991 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,995 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:01,998 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:23,165 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:23,846 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:23,850 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 185, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:23,851 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:50:23,853 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,442 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,443 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,444 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,447 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:51:46,450 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:06,923 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:07,517 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:07,520 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 185, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:07,520 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:07,523 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,612 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,613 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,614 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,615 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,618 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:52:42,621 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:04,474 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:05,085 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:05,089 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 184, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:05,089 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:05,092 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,332 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,333 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,334 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,337 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:37,340 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:57,630 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:58,291 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:58,295 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 184, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:58,295 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:53:58,297 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,535 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,535 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,535 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,535 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,535 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,535 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,536 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,537 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,538 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,538 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,538 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,538 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,538 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,538 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,541 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:58:47,545 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:59:10,519 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:59:11,216 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:59:11,219 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 186, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:59:11,220 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 12:59:11,222 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,412 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,413 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,414 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,415 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,415 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,415 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,415 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,417 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:09,421 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:29,665 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:30,330 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:30,335 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 186, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:30,335 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 13:00:30,339 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,176 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,178 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,179 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,180 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,183 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:05:47,188 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:08,944 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:09,601 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:09,604 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 187, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:09,605 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:09,608 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,329 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,330 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,331 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,334 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:06:59,337 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:07:23,730 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:07:24,688 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:07:24,693 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 187, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:07:24,694 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:07:24,696 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,367 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,368 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,369 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,370 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,374 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:35,377 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:58,477 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:59,218 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:59,223 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 187, in update_completed_orders
    open_orders = self.open_orders.read({
AttributeError: 'NoneType' object has no attribute 'read'

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:59,223 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:08:59,225 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,790 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,791 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,792 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,793 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,797 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:37,801 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:58,928 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:59,614 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:59,616 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 133, in async_wrapper
    async with get_db() as db:  # Using async context manager
AttributeError: __aenter__

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:59,616 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:14:59,619 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,770 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,771 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,772 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,775 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:23,778 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:44,964 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:45,683 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:45,688 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 189, in update_completed_orders
    'time': trade.log[0].time,
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 142, in async_wrapper
    await db.rollback()
TypeError: object NoneType can't be used in 'await' expression

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 142, in async_wrapper
    await db.rollback()
TypeError: object NoneType can't be used in 'await' expression

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 142, in async_wrapper
    await db.rollback()
TypeError: object NoneType can't be used in 'await' expression

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:45,688 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:15:45,692 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,681 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,682 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,683 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,686 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:25,689 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:46,720 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:47,445 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:47,451 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 143, in async_wrapper
    raise e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 143, in async_wrapper
    raise e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 143, in async_wrapper
    raise e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 189, in update_completed_orders
    'time': trade.log[0].time,
IndexError: list index out of range

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:47,451 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:16:47,454 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,552 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,557 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:18:45,560 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:19:06,650 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:19:07,437 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:19:07,441 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 33, in daily_run_using
    await ibkr.update_completed_orders()  # Always return True by default
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 143, in async_wrapper
    raise e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 143, in async_wrapper
    raise e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 143, in async_wrapper
    raise e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/utils/db.py", line 138, in async_wrapper
    result = await func(*args, **kwargs)  # Await async function
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/broker/IBKR.py", line 188, in update_completed_orders
    'time': trade.log[0].time,
IndexError: list index out of range

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:19:07,441 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:19:07,443 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,422 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,423 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,424 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,427 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:23:47,430 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:24:11,665 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:24:12,506 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:24:18,149 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: current_positions.current_price

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: current_positions.current_price
[SQL: UPDATE current_positions SET current_price=? WHERE current_positions.stock = ? AND current_positions.strategy = ?]
[parameters: (nan, 'SPY', 'LinReg')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:24:18,151 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:24:18,153 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,622 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,622 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,622 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,622 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,623 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,624 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,625 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,625 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,625 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,625 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,625 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,625 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,628 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:21,631 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:42,324 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:42,914 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:27:49,776 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:28:00,552 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 277
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:28:00,818 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 277 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:46,689 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:46,693 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:46,700 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,909 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,910 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,911 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,912 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,916 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:30:47,920 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:31:08,854 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:31:09,526 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:31:15,959 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:31:26,846 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 287
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:31:26,858 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 287 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:57,230 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:57,233 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:57,252 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,663 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,664 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,665 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,666 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,669 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:41:58,672 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:42:20,664 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:42:21,359 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:42:27,813 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:42:28,640 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 297
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:42:28,653 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 297 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:33,759 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:33,761 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:33,769 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,807 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,808 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,809 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,812 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:34,816 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:56,829 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:45:57,621 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:03,977 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:04,809 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 307
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:04,827 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 307 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:17,885 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:17,889 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:17,900 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,965 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,965 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,966 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,967 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,968 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,968 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,968 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,968 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,968 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,968 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,968 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,971 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:18,974 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:40,786 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:41,443 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:47,773 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:48,537 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 317
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:46:48,547 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 317 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:23,236 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:23,237 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:23,251 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,417 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,418 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,419 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,422 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:24,425 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:45,775 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:46,795 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:53,043 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:53,897 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 327
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:47:53,908 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 327 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:48,171 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:48,183 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:48,192 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,211 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,211 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,211 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,211 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,212 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,213 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,214 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,214 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,214 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,214 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,214 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,214 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,217 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:49:49,220 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:50:12,100 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:50:12,830 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:50:19,105 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:50:19,139 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Failed, Disconnecting from brokers now: Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 1475, in _init_compiled
    l_param: List[Any] = [
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 1477, in <listcomp>
    flattened_processors[key](compiled_params[key])
  File "lib/sqlalchemy/cyextension/processors.pyx", line 27, in sqlalchemy.cyextension.processors.to_float
TypeError: float() argument must be a string or a real number, not 'coroutine'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/run.py", line 16, in run
    await asyncio.gather(*[daily_run_using(strategy['broker'], strategy['strategy']) for strategy in atomic_strategies])
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/Users/ryantan/.pyenv/versions/3.10.0/lib/python3.10/asyncio/tasks.py", line 232, in __step
    result = coro.send(None)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/create_app.py", line 34, in daily_run_using
    current_positions = await update_current_positions_from_broker(ibkr)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/tasks/daily_tasks.py", line 68, in update_current_positions_from_broker
    current_position.create_or_update_all(current_positions)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/app/services/models/BaseCRUD.py", line 232, in create_or_update_all
    self.session.commit()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 1475, in _init_compiled
    l_param: List[Any] = [
  File "/Users/ryantan/Downloads/Personal Projects/auto ibkr/py_book/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 1477, in <listcomp>
    flattened_processors[key](compiled_params[key])
  File "lib/sqlalchemy/cyextension/processors.pyx", line 27, in sqlalchemy.cyextension.processors.to_float
sqlalchemy.exc.StatementError: (builtins.TypeError) float() argument must be a string or a real number, not 'coroutine'
[SQL: UPDATE current_positions SET current_price=? WHERE current_positions.stock = ? AND current_positions.strategy = ?]
[parameters: [{'current_price': <coroutine object IBKR.get_current_price at 0x113c86f80>, 'current_positions_stock': 'SPY', 'current_positions_strategy': 'LinReg'}]]

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:50:19,140 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:50:19,142 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,098 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,099 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,100 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,101 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,105 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:53:38,111 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:01,723 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:02,529 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:09,161 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:14,359 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:20,003 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:26,026 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:31,206 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:37,069 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:43,093 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:48,423 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:54:54,135 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:00,162 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:05,359 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:11,202 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:17,223 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:22,413 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:28,271 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:34,287 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:39,488 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:45,331 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:51,358 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:55:56,561 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:00,528 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:00,980 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: 
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,203 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,204 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,205 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,208 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:14,211 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:35,790 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:36,477 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:42,794 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:43,769 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 337
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:56:43,781 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 337 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:51,851 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:51,863 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:51,874 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,896 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,897 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,898 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,905 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:57:52,909 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:58:16,717 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:58:17,368 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:58:23,902 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:58:24,679 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 347
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 14:58:24,733 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 347 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:24,976 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:24,985 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:24,998 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,301 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,302 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,303 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,306 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:26,310 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:46,926 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:47,580 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:54,563 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:55,332 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 357
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:05:55,384 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 357 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:17,734 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:17,746 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:17,764 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,857 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,858 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,859 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,862 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:18,865 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:39,333 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:10:44,244 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:11:30,206 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:11,171 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 367
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:11,367 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 367 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:22,195 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:22,196 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:22,216 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,289 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,290 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,291 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,294 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:23,297 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:45,280 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:12:46,565 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:53,105 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:53,127 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,385 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,386 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,387 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,390 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:21:54,394 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:22:14,715 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:22:15,452 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:22:43,025 - IBAsyncBroker - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
reqMktData() in get_current_price() timed out - no data for ticker: SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:22:53,852 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 377
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:22:53,866 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 377 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:52,000 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:52,004 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:52,016 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: CurrentPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,553 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: TargetPosition
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: avg_price_bought
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: current_price
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stop_limit
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: OpenOrders
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: order_id
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: Transaction
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,554 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: price_transacted
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: fees
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: quantity
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: strategy
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Found class: HistoricalData
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: stock
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: str
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: time
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: datetime.datetime
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: open
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: high
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: low
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: close
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: float
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Processing field: volume
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
    Field type: int
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,555 - models_types_generator - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,558 - init_db() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Database initialization complete.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:41:54,562 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS START
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:42:17,156 - IBC - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
IBC LOGS END - IBKR started
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:42:17,866 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:42:34,003 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
New order placed: 387
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:42:34,018 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Order submitted: 387 for SPY
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:45:04,807 - run.py - ERROR - 
[31m------------------------------------------------------------------------------------------------------------------------------------
Keyboard Interrupted: Disconnecting now
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:45:04,811 - IBAsyncBroker - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 15:45:04,817 - send_command_to_ibc() - INFO - 
[32m------------------------------------------------------------------------------------------------------------------------------------
Response: OK Shutting down: STOP command

------------------------------------------------------------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,096 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: CurrentPosition
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,097 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,097 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,097 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: avg_price_bought
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,097 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,097 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: current_price
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: quantity
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stop_limit
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stop_limit_in_place
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: int
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: strategy
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'stop_limit_in_place': 'int', 'strategy': 'str'}
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: TargetPosition
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: avg_price_bought
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: current_price
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: quantity
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stop_limit
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,098 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: strategy
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'avg_price_bought': 'float', 'current_price': 'float', 'quantity': 'float', 'stop_limit': 'float', 'strategy': 'str'}
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: OpenOrders
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: order_id
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: int
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: time
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: datetime.datetime
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: price_transacted
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: fees
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: quantity
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: strategy
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'order_id': 'int', 'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: Transaction
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: time
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: datetime.datetime
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: price_transacted
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,099 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: fees
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: quantity
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: strategy
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'price_transacted': 'float', 'fees': 'float', 'quantity': 'float', 'strategy': 'str'}
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
Found class: HistoricalData
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: stock
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: str
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: time
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: datetime.datetime
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: open
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: high
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,100 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,101 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: low
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,101 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,101 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: close
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,101 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: float
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,101 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Processing field: volume
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,101 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
    Field type: int
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,101 - models_types_generator - INFO - 
[32m--------------------------------------------------------------------------------
  Fields: {'stock': 'str', 'time': 'datetime.datetime', 'open': 'float', 'high': 'float', 'low': 'float', 'close': 'float', 'volume': 'int'}
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,105 - init_db() - INFO - 
[32m--------------------------------------------------------------------------------
Database initialization complete.
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:05,109 - IBC - INFO - 
[32m--------------------------------------------------------------------------------
IBC LOGS START
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:31,295 - IBC - INFO - 
[32m--------------------------------------------------------------------------------
IBC LOGS END - IBKR started
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:32,078 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
connect(): Successfully connected to IBKR.
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:48,252 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
New order placed: 397
--------------------------------------------------------------------------------[0m
2025-02-12 21:55:48,322 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
Order submitted: 397 for SPY
--------------------------------------------------------------------------------[0m
2025-02-13 08:59:38,494 - IBAsyncBroker - INFO - 
[32m--------------------------------------------------------------------------------
disconnect(): Successfully disconnected from IBKR.
--------------------------------------------------------------------------------[0m
